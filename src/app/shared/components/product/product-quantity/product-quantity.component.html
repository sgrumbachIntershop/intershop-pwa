<div *ngIf="product$ | async as product" [ngClass]="{'has-error': hasQuantityError$ | async}">
  <input
    class="form-control"
    [id]="id"
    type="number"
    [value]="quantity$ | async"
    [min]="product.minOrderQuantity"
    [max]="product.maxOrderQuantity"
    (change)="change($event.target)"
    (keyup)="change($event.target)"
  />
  <small *ngIf="hasQuantityError$ | async" class="form-text">{{ quantityError$ | async }}</small>
</div>
